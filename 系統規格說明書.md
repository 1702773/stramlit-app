# [系統名稱] 規格說明書

> **用途說明**: 本規格說明書作為AI提示語使用，將此完整內容提交給AI，AI將根據規格生成完整的應用程式碼。

## 📋 系統概述

### 系統名稱
【Code Gym】[具體應用名稱]

### 核心功能描述
建立一個基於網頁的[應用類型]，能夠：
1. [核心功能1 - 描述]
2. [核心功能2 - 描述] 
3. [核心功能3 - 描述]
4. [核心功能4 - 描述]

### 技術架構要求
- **界面框架**: 使用 Streamlit 框架
- **數據來源**: [API服務名稱 - 如 yfinance, Financial Modeling Prep, Alpha Vantage]
- **AI 模型**:[模型名稱 - 如 OpenAI]
- **AI 模型版本**: [模型版本 - 如 4o-mini]
- **視覺化工具**: 互動式圖表 (使用 Plotly Graph Objects)
- **數據處理**: Pandas, NumPy
- **HTTP請求**: requests
- **日期處理**: datetime
- **部署方式**: 可直接在瀏覽器中運行

## 🎯 功能需求規格

### F-001: 用戶界面設計
**基本要求**: 
- 頁面標題: "[完整標題]"，使用彩虹色分隔線 (divider="rainbow")
- 左側控制區包含：
  - 系統Logo "[Logo文字]" (divider="rainbow")
  - [輸入項目1]：[描述用戶需要輸入什麼] (預設值: [值])
  - [輸入API_key_01]：[描述用戶需要輸入什麼API] (type="password")
  - [輸入API_key_02]：[描述用戶需要輸入什麼API] (type="password")
  - [輸入項目2]：[描述用戶需要選擇什麼]
  - [輸入項目3]：[描述用戶需要輸入什麼]
- 主要執行按鈕: "[按鈕文字]"

### F-002: 數據獲取功能
**功能目標**: 自動從[數據源名稱]獲取所需資料
**用戶操作**: 用戶輸入[查詢條件]後，系統自動取得相關數據
**數據來源與說明**:
- [數據來源1]: [敘述資料內容，API網址、上傳的檔案或是套件名稱]
- [數據來源2]: [敘述資料內容，API網址、上傳的檔案或是套件名稱]

**數據範圍**: 
- [數據類型1]: [說明需要什麼資料]
- [數據類型2]: [說明需要什麼資料]
- [數據類型3]: [說明需要什麼資料]
**處理要求**: 
- 自動檢查資料有效性
- 提供友善的錯誤提示

### F-003: 數據處理與計算
**處理目標**: 將原始數據轉換為分析用的資料
**計算項目**:
- [計算項目1]: [說明要計算什麼]
- [計算項目2]: [說明要計算什麼]
- [計算項目3]: [說明要計算什麼]
**通用品質要求**: 
- 計算結果準確可靠，符合專業標準
- 妥善處理資料缺失和異常值情況
- 確保歷史資料時間序列的一致性
- 實施適當的數據驗證機制
- 保持數據處理的可追溯性

### F-004: 主要顯示區域設計
**頁籤結構**: 使用 st.tabs 創建 [數量] 個主要區域
1. "[區域1名稱]": [說明這個區域要顯示什麼內容]
2. "[區域2名稱]": [說明這個區域要顯示什麼內容]
3. "[區域3名稱]": [說明這個區域要顯示什麼內容]

#### [區域]詳細內容：
- 主要指標: [描述要呈現哪些指標]
- 主要圖表: [描述要呈現什麼類型的圖表]
- 顯示數據: [列出要顯示的關鍵資訊]
- 互動功能: [描述用戶可以如何與圖表互動]
- 視覺提示: [說明顏色、箭頭方向等視覺輔助]
- 分析報告: [顯示AI生成的專業文字分析]
- 內容格式: 條列式、易讀的分析結果呈現
- 數據表格: [描述表格中的數據]
- 包含欄位: [包含欄位名稱]
- 排序方式: [按照哪一個欄位做降冪或升冪排序]

### F-005: 基本資訊展示
**展示方式**: 使用 st.columns([數量]) 展示重要資訊
**展示內容**:
- 第一欄: [要顯示的資訊1]
- 第二欄: [要顯示的資訊2] 
- 第三欄: [要顯示的資訊3]
**通用數值處理**: 
- 大數字使用容易讀懂的格式（億、萬、K、M、B）
- 百分比顯示到適當的小數位數
- 使用 st.metric() 展示關鍵指標，包含 delta 變化值

### F-006: AI分析功能
**分析目標**: 使用人工智慧對數據進行專業分析
**AI角色設定**: [描述希望AI扮演什麼專業角色]
**數據準備**：將F-002獲取的原始數據，經過F-003處理後，組合成完整的分析數據集
**完整AI提示語結構**:
```
## 系統角色 (System Message)
{AI角色設定的完整描述}

## 用戶提示語 (User Prompt)
請基於以下數據進行[分析類型]分析：

### 分析架構：

[詳細的投資分析策略或計算公式、評分標準]

### 綜合評估要求
[具體的輸出格式要求、表格結構、總結方式]

### 提供的數據
{processed_data}

分析目標：{target_symbol}
```

**AI提示語模板設計原則**:
- 系統角色要明確專業背景和分析風格
- 用戶提示語要包含完整的分析架構和步驟
- 每個分析階段都要有具體的計算要求和評分標準
- 要求AI輸出特定格式，便於後續處理
- 包含適當的風險提醒和免責要求

### F-007: 輔助功能
**進度顯示**: 
- 使用 st.spinner() 顯示處理進度
- 長時間操作要有明確的進度提示
**數據表格展示**: 
- 使用 st.dataframe() 顯示原始數據的詳細表格
- 實施適當的排序和篩選功能
- 設定合理的顯示行數和欄位
**狀態管理**: 
- 使用 st.info() 提供過程資訊
- 實施適當的載入動畫和等待提示
**通用狀態反饋標準**: 
- st.success() 用於成功操作確認
- st.error() 用於錯誤訊息，提供具體解決建議
- st.warning() 用於警告和注意事項
- st.info() 用於一般資訊和操作指引

### F-008: 錯誤處理與用戶體驗
**通用輸入驗證標準**: 
- 檢查所有必填欄位是否完整
- 驗證輸入格式的正確性
- 提供即時的輸入提示和範例
- 實施適當的防呆機制
**通用錯誤處理標準**: 
- 所有API調用都要有 try-catch 錯誤處理
- 網路連線問題要有適當的重試機制
- 數據格式錯誤要有清楚的說明和建議
- 系統異常要有友善的錯誤頁面
**通用用戶指導標準**: 
- 提供清楚的操作說明和範例
- 在關鍵步驟提供適當的提示
- 解釋各個功能的用途和限制
- 提供常見問題的解決方案

### F-009: 免責聲明與安全
**免責聲明位置**: 在側邊欄底部 (st.sidebar.markdown)
**通用免責聲明模板**:
```markdown
### 📢 免責聲明
本系統僅供學術研究與教育用途，AI 提供的數據與分析結果僅供參考，**不構成[專業建議類型]**。
請使用者自行判斷決策，並承擔相關風險。本系統作者不對任何行為負責，亦不承擔任何損失責任。
```
**通用安全要求**:
- API金鑰使用 type="password" 安全輸入
- 不在程式碼中寫入敏感資訊
- 實施適當的輸入清理和驗證
- 避免資料外洩和隱私洩露

## 🎨 界面設計與體驗標準
### 整體風格要求
- **專業感**: 界面要看起來專業可信，符合商業應用標準
- **易用性**: 操作要簡單直觀，遵循常見的使用者界面慣例
- **美觀性**: 配色和排版要美觀舒適，使用 Streamlit 的內建美學
- **一致性**: 各部分風格要統一，保持視覺和操作的連貫性

### 操作流程設計標準
1. **進入系統**: 用戶看到清晰的標題和明確的操作指引
2. **輸入階段**: 側邊欄提供邏輯性的輸入順序和即時驗證
3. **執行階段**: 明確的執行按鈕和適當的進度回饋
4. **結果展示**: 分層次的結果呈現，從概覽到詳細
5. **進階操作**: 支援參數調整和重新分析的能力

### 通用視覺化標準
- **圖表工具**: 統一使用 Plotly Graph Objects 或 Plotly Express
- **色彩配置**: 遵循專業領域的標準配色（如金融、健康、教育）
- **互動功能**: 支援基本的縮放、平移、懸停顯示功能
- **響應式設計**: 使用 use_container_width=True 確保適配性
- **載入優化**: 大型圖表要有適當的載入提示

### 通用佈局標準
- **側邊欄寬度**: 保持適中，不影響主要內容區域
- **欄位間距**: 使用 st.columns() 時保持合理的比例
- **垂直間距**: 適當使用 st.divider() 或空行分隔內容
- **內容密度**: 避免過於擁擠或過於稀疏的佈局

## 📊 品質標準
### 功能品質標準
- 所有主要功能都要能穩定運作
- 數據處理要準確可靠，與權威來源保持一致
- AI分析要有價值且負責任，避免誤導性內容
- 用戶操作要流暢無阻礙，響應時間合理

### 界面品質標準
- 版面配置要合理美觀，符合現代網頁設計標準
- 文字要清晰易讀，字體大小和對比度適中
- 操作要直觀簡單，符合用戶的使用習慣
- 錯誤提示要友善有用，提供可操作的解決方案

### 效能品質標準
- 初始載入時間控制在 3 秒內
- 數據處理和分析在 10 秒內完成
- 大量數據要能順暢處理，使用適當的分頁或限制
- 支援主流瀏覽器和設備，相容性良好

### 安全品質標準
- 用戶輸入要經過適當的驗證和清理
- API金鑰等敏感資訊要安全處理
- 避免常見的網路安全漏洞
- 遵循數據隱私和保護的最佳實踐

## AI實作指令
**請根據以上完整規格說明書，生成一個完整可運行的 Streamlit 網頁應用程式。**

### 必要實現要求
1. **完全實現所有功能需求** (F-001 到 F-009)
2. **符合通用界面設計標準** - 專業、易用、美觀、一致
3. **滿足通用品質標準** - 功能、界面、效能、安全
4. **具備領域專業水準** - 符合[具體領域]工具的專業標準

### 技術實現要求
- **框架**: 使用 Streamlit 框架建立網頁界面
- **API整合**: 整合指定的數據源 API，實施完整錯誤處理
- **AI分析**: 使用指定的 AI 模型 API，按照提示語模板進行分析
- **視覺化**: 使用 Plotly 創建互動式專業圖表
- **程式品質**: 程式碼要清晰易懂，有適當的中文註釋

### 特別注意事項
- 程式必須完整可執行，可直接用 `streamlit run` 運行
- 所有用戶輸入都要有驗證和友善的錯誤處理
- AI 分析內容要客觀專業，避免過度承諾或誤導
- 界面要直觀易用，符合目標用戶的使用習慣
- 免責聲明要清楚顯示，提醒用戶合理使用

### 交付物要求
**最終交付物**: 一個完整的 Python 程式檔案，包含：
- 所有必要的 import 語句
- 完整的函數實現
- 主程式邏輯
- 適當的註釋
- 可以直接執行的完整程式碼

